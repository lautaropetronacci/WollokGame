import Dontwhackthecapybara.*
import personajes.*
import movimientos.*
import wollok.game.*
import interfaz.*


describe "Juego"{
	
	const topo = new Topo()
	const boton1 = new BotonSubirDificultad()
	const boton2 = new BotonBajarDificultad(position = game.at(5, 1)	)
	

    test "al golpear un topo 3 veces, sube la puntuacion" {
        3.times({ n => topo.aplastadoPorMartillo()})
        assert.equals(150, puntos.puntos())
    }

    test "al golpear un carpincho una vez pierde una vida" {
        dontwhackthecapybara.carpincho().aplastadoPorMartillo()
        assert.equals(2, vida.cantidadDeVida())
    }

    test "Al presionar el boton rojo de arriba, aumenta la dificultad" {
        boton1.aplastadoPorMartillo()
        assert.equals(2, boton1.dificultad())
    }

    test "Al presionar el boton rojo de abajo, disminuye la dificultad" {
        boton2.dificultad(2)
        boton2.aplastadoPorMartillo()
        assert.equals(1, boton2.dificultad())
    }
    
	test "Al aplastar carpincho se pierde vida" {
        dontwhackthecapybara.carpincho().aplastadoPorMartillo()
        assert.equals(2, vida.cantidadDeVida())
        assert.equals("2Vidas.png", vida.image())
    }
}